{"version":3,"sources":["../../src/pages/login/login.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/domain/mapa/mapa-service.ts","../../src/domain/camera/camera-service.ts","../../src/domain/agendamento/agendamento-service.ts","../../src/domain/agendamento/agendamento-dao.ts","../../src/domain/calendario/calendar-service.ts","../../src/domain/validator/validacao-slides.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/domain/agendamento/agendamento.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { HomePage } from '../home/home';\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n  }\n\n  vaiPara(){\n    this.navCtrl.push(HomePage);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 113;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 113\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 153;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 153\n// module chunks = 0","import { Component, ViewChild } from '@angular/core';\nimport { NavController, Slides } from 'ionic-angular';\nimport { MapaService } from '../../domain/mapa/mapa-service';\nimport { CameraService } from '../../domain/camera/camera-service';\n\nimport { Agendamento } from '../../domain/agendamento/agendamento';\nimport { AgendamentoService } from '../../domain/agendamento/agendamento-service';\nimport { FormGroup, FormBuilder} from '@angular/forms';\nimport { ValidacaoSlides } from '../../domain/validator/validacao-slides';\n\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage{\n\n  @ViewChild(Slides) slides: Slides;\n  public botaoContinuar: string = \"Continuar\";\n  public agendamento: Agendamento;\n  \n  public meuForm: FormGroup;\n  public ehTrue: boolean = false;\n  public loader;\n\n  \n  constructor(public navCtrl: NavController,\n     private _mapaService: MapaService,\n     public _cameraService: CameraService,\n     private _agendamentoService: AgendamentoService,\n     public formBuilder: FormBuilder,\n     private _validacaoService: ValidacaoSlides\n     )\n     {       \n        this.agendamento = new Agendamento();\n        this._agendamentoService.buscarCategorias(this.agendamento);\n                \n        // validation \n        this.meuForm = this._validacaoService.criaFormBuilder();\n     }\n\n\n  // carrega google maps\n  ionViewDidLoad(){\n    this._mapaService.initAutocomplete();    \n    this.slides.lockSwipes(true);\n  }\n\n  escolheImagem(){\n    this._cameraService.escolherImagem(this.agendamento);  \n  }\n\n  // A cada mudança no SLIDES\n  slideChanged() {\n    let slideIndex = this.slides.getActiveIndex();\n    console.log(\"INDEX: \" + slideIndex);\n    slideIndex == 0 ? this.slides.lockSwipes(true) : this.slides.lockSwipes(false);                   // Bloqueia o slide, se no primeiro slide\n    this.slides.isEnd() ? this.botaoContinuar = 'Finalizar': this.botaoContinuar = 'Continuar';       // Muda o texto, caso esteja no último slide\n  }\n\n  goToSlide() {\n    if(this.slides.lockSwipes) this.slides.lockSwipes(false) ;                                        // Destrava o SWIPE se estiver travado\n\n    if(this.slides.isEnd() || this.botaoContinuar == \"Finalizar\"){\n      this.verificaCampos();\n    }\n     this.slides.slideNext();\n  }\n\n  verificaCampos(){\n    if(!this.meuForm.valid){\n        alert(\"Preencha todos os campos corretamente\");\n        this.ehTrue = true;\n    }else{\n        this._agendamentoService.agendar(this.agendamento, this._mapaService);     \n    }\n} \n\n\n  \n}\n \n  \n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Injectable } from '@angular/core';\r\n\r\ndeclare var google;\r\nvar localidade;\r\nvar lat;\r\nvar lng;\r\n\r\n@Injectable()\r\nexport class MapaService{\r\n\r\n    map: any;\r\n\r\n    constructor(){}\r\n\r\n    // GET E SETTER\r\n    get localidade(){\r\n      return localidade;\r\n    }\r\n\r\n    get latitude(){\r\n      return lat;\r\n    }\r\n\r\n    get longitude(){\r\n      return lng;\r\n    }\r\n\r\n\r\n    // CRIA O MAPA\r\n    initAutocomplete() {\r\n      var map = this.map;\r\n  \r\n        map = new google.maps.Map(document.getElementById('map'), {\r\n        center: {lat: -22.9500614, lng: -43.38328910000001},\r\n        zoom: 15,\r\n        mapTypeId: 'roadmap',\r\n        mapTypeControl: false\r\n      });\r\n  \r\n      // Create the search box and link it to the UI element.\r\n      var input = document.getElementById('pac-input');\r\n      var searchBox = new google.maps.places.SearchBox(input);\r\n      map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);\r\n  \r\n      // Bias the SearchBox results towards current map's viewport.\r\n      map.addListener('bounds_changed', function() {\r\n        searchBox.setBounds(map.getBounds());\r\n      });\r\n  \r\n      var markers = [];\r\n      // Listen for the event fired when the user selects a prediction and retrieve\r\n      // more details for that place.\r\n      searchBox.addListener('places_changed', function() {\r\n        var places = searchBox.getPlaces();\r\n  \r\n        if (places.length == 0) {\r\n          return;\r\n        }\r\n  \r\n        // Clear out the old markers.\r\n        markers.forEach(function(marker) {\r\n          marker.setMap(null);\r\n        });\r\n        markers = [];\r\n  \r\n        // For each place, get the icon, name and location.\r\n        var bounds = new google.maps.LatLngBounds();\r\n        places.forEach(function(place) {\r\n          if (!place.geometry) {\r\n            console.log(\"Returned place contains no geometry\");\r\n            return;\r\n          }\r\n\r\n          // Guardar localidade, lag, lng\r\n          localidade = place.formatted_address;\r\n          lat = place.geometry.location.lat();\r\n          lng = place.geometry.location.lng();\r\n\r\n          var icon = {\r\n            url: place.icon,\r\n            size: new google.maps.Size(71, 71),\r\n            origin: new google.maps.Point(0, 0),\r\n            anchor: new google.maps.Point(17, 34),\r\n            scaledSize: new google.maps.Size(25, 25)\r\n          };\r\n  \r\n          // Create a marker for each place.\r\n          markers.push(new google.maps.Marker({\r\n            map: map,\r\n            icon: icon,\r\n            title: place.name,\r\n            position: place.geometry.location\r\n          }));\r\n  \r\n          if (place.geometry.viewport) {\r\n            // Only geocodes have viewport.\r\n            bounds.union(place.geometry.viewport);\r\n          } else {\r\n            bounds.extend(place.geometry.location);\r\n          }\r\n        });\r\n        map.fitBounds(bounds);\r\n      });\r\n    }\r\n\r\n   \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/domain/mapa/mapa-service.ts","import { Injectable } from \"@angular/core\";\r\nimport { Camera } from \"@ionic-native/camera\";\r\nimport { Agendamento } from \"../agendamento/agendamento\";\r\nimport { AlertController } from \"ionic-angular/components/alert/alert-controller\";\r\n\r\n\r\n@Injectable()\r\nexport class CameraService{\r\n\r\n    private  _key = '';\r\n\r\n    constructor(private _alertCtrl: AlertController, private _camera: Camera){}\r\n\r\n\r\n    get key(){\r\n        return this._key;\r\n    }\r\n\r\n    set key(newKey){\r\n        this._key = newKey;\r\n    }\r\n\r\n    gravaUrl(key, url){\r\n\r\n        localStorage.setItem(key, url);\r\n    }\r\n\r\n    findUrl(agendamento){\r\n        let key = agendamento.pegaKey(agendamento);\r\n        return localStorage.getItem(key);\r\n    }\r\n\r\n    escolherImagem(agendamento: Agendamento){\r\n  \r\n        let alert = this._alertCtrl.create();\r\n        alert.setTitle('Selecione uma imagem');\r\n        \r\n        // usar interfaces futuramente\r\n        alert.addInput({\r\n            type: 'radio',\r\n            label: 'Escolher imagem',\r\n            value: 'imagem',\r\n            checked: true\r\n        });\r\n        alert.addInput({\r\n            type: 'radio',\r\n            label: 'Tirar foto',\r\n            value: 'foto',\r\n        });\r\n        \r\n        alert.addButton('Cancelar');\r\n        alert.addButton({\r\n            text: 'OK',\r\n            handler: data => {\r\n                data == \"foto\" ? \r\n                    this.tiraFoto(agendamento)\r\n                : \r\n                    this.abreAlbum(agendamento);\r\n            }\r\n        });\r\n        alert.present();\r\n    }\r\n    \r\n    \r\n\r\n    tiraFoto(agendamento: Agendamento){\r\n        \r\n        this._camera.getPicture({\r\n            destinationType: this._camera.DestinationType.FILE_URI,\r\n            saveToPhotoAlbum: true,\r\n            correctOrientation: true,\r\n        \r\n            allowEdit: true,\t\t\t\t\t\r\n\t\t\ttargetHeight: 500,\t\t\t\t\t\r\n\t\t\ttargetWidth: 500\r\n        }).then(url => {\r\n            let key = agendamento.pegaKey();\r\n            this.gravaUrl(key, url);  \r\n            agendamento.url = url;    \r\n        }).catch((err) => console.log(err));\r\n    }\r\n\r\n\r\n    abreAlbum(agendamento: Agendamento){\r\n    \r\n        this._camera.getPicture({\r\n            destinationType: this._camera.DestinationType.FILE_URI,\r\n            targetHeight: 1000,\t\t\t\t\t\r\n            targetWidth: 1000,\r\n            sourceType: this._camera.PictureSourceType.PHOTOLIBRARY\r\n\r\n        }).then(url => {\r\n            let key = agendamento.pegaKey();\r\n            this.gravaUrl(key, url);  \r\n            agendamento.url = url;    \r\n        }).catch((err) => console.log(err));\r\n    }\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/domain/camera/camera-service.ts","import { Injectable } from \"@angular/core\";\r\nimport { AgendamentoDao } from \"./agendamento-dao\";\r\nimport { MapaService } from \"../mapa/mapa-service\";\r\nimport { Agendamento } from \"./agendamento\";\r\nimport { Http } from '@angular/http';\r\nimport { LoadingController } from \"ionic-angular/components/loading/loading-controller\";\r\n\r\n@Injectable()\r\nexport class AgendamentoService {\r\n    constructor(private _dao: AgendamentoDao, private _http: Http, private _loadingCtrl: LoadingController){}\r\n\r\n    agendar(agendamento: Agendamento, mapa: MapaService){\r\n        agendamento.addMapa(mapa);\r\n        this._dao.gravar(agendamento);\r\n    }\r\n\r\n    buscarCategorias(agendamento: Agendamento){\r\n\r\n        let loader = this._loadingCtrl.create({\r\n            content: \"Buscando Dados. Aguarde ...\",\r\n          });\r\n          loader.present(); \t\t\r\n        \r\n        // aqui http, precisa vim já organizado por ordem alfabetica\r\n        this._http\r\n            .get(\"https://kokuatest.herokuapp.com/\")\r\n            .map(res => res.json())\r\n            .toPromise()\r\n            .then(categorias => {\r\n                agendamento.categorias = categorias;\r\n                loader.dismiss();\r\n        });  \r\n        \r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/domain/agendamento/agendamento-service.ts","import { Injectable} from \"@angular/core\";\r\nimport { Storage } from \"@ionic/storage\";\r\nimport { Agendamento } from \"./agendamento\";\r\nimport { LoginPage } from \"../../pages/login/login\";\r\n\r\nimport { NavController, App} from 'ionic-angular';\r\nimport { AlertController } from \"ionic-angular/components/alert/alert-controller\";\r\nimport { CalendarService } from \"../calendario/calendar-service\";\r\n\r\n@Injectable()\r\nexport class AgendamentoDao{\r\n\r\n    private nav: NavController\r\n\r\n    constructor(private _calendarService: CalendarService, private _storage: Storage, private app: App, private _alertCtrl: AlertController){\r\n        this.nav = app.getActiveNav();\r\n    }\r\n\r\n\r\n    gravar(agendamento: Agendamento,){\r\n\r\n        // (TESTE) Mostra dados recebidos\r\n        agendamento.realizaAgendamento();\r\n\r\n        let key = agendamento.pegaKey();\r\n        this.jaExiste(key)\r\n        .then(existe => {\r\n            if(existe) throw 'Agendamento já existente';                                                           // Gera uma Exception com essa mensagem\r\n            this._storage.set(key, agendamento)\r\n        })  \r\n        .then(() => {\r\n            this._alertCtrl.create({\r\n                title: 'Agendamento realizado com sucesso',\r\n                buttons: [{ text: 'Finalizar', handler: () => {\r\n                    this.alertaPenultimo(agendamento);\r\n                } \r\n                }]\r\n              }).present();\r\n        })  \r\n        .catch((err) => {console.log(err)});\r\n    }            \r\n            \r\n    \r\n    jaExiste(key){\r\n        return this._storage.get(key)\r\n            .then(dado => {\r\n                return dado ? true : false;\r\n       });\r\n    }\r\n\r\n    // separar responsabilidade depois\r\n    alertaPenultimo(agendamento: Agendamento){\r\n        this._alertCtrl.create({\r\n            title: \"Deseja criar um lembrete no calendário?\",\r\n            buttons: [\r\n            { text: 'Não', handler: () => {\r\n                this.alertaFinal();\r\n            }},{ text: 'Sim', handler: () => {\r\n                this._calendarService.criarEvento(agendamento);\r\n                this.alertaFinal();\r\n            }}]\r\n          }).present();\r\n    }\r\n\r\n    alertaFinal(){\r\n        this._alertCtrl.create({\r\n            title: \"Deseja criar um evento no Facebook?\",\r\n            buttons: [\r\n            { text: 'Não', handler: () => {\r\n                this.nav.setRoot(LoginPage)\r\n            }},{ text: 'Sim', handler: () => {\r\n   //             alert(\"Criou evento no Facebook\");\r\n                this.nav.setRoot(LoginPage)\r\n            }}]\r\n          }).present();\r\n    }\r\n\r\n   \r\n\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/domain/agendamento/agendamento-dao.ts","import { Injectable } from \"@angular/core\";\r\nimport { Calendar } from '@ionic-native/calendar';\r\nimport { Agendamento } from \"../agendamento/agendamento\";\r\n\r\n\r\n@Injectable()\r\nexport class CalendarService{\r\n    constructor(private _calendar: Calendar){}\r\n\r\n    criarEvento(agendamento: Agendamento){\r\n        this._calendar.createEvent(agendamento.evento, agendamento.localidade,\r\n             agendamento.descricao, this.corrigiData(agendamento.dataInicial, agendamento.horaInicial), this.corrigiData(agendamento.dataFinal, agendamento.horaFinal)\r\n            \r\n            )\r\n            .then(() => {alert(\"Evento criado no calendário com sucesso\")})\r\n            .catch((err) => alert(\"Erro ocorrido: \" + err))    ;\r\n    }\r\n\r\n     // Devido ao passar p/ o calendar estar subtraindo 1 dia, e juntando com a hora\r\n     corrigiData(data, hora){\r\n        let date = new Date(data);\r\n        return new Date(date.getFullYear() + \"-\" + (date.getMonth()+1) + \"-\" + (date.getDate()+2) + \" \" + hora);\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/domain/calendario/calendar-service.ts","import { Injectable } from \"@angular/core\";\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\n\r\n\r\n@Injectable()\r\nexport class ValidacaoSlides{\r\n\r\n    constructor(public formBuilder: FormBuilder){}\r\n\r\n    // Futuramente criar classes de validador especificas\r\n    criaFormBuilder(){\r\n        return this.formBuilder.group({\r\n            categoria: ['', Validators.required],\r\n            descricao: ['', Validators.required],\r\n            evento: ['', Validators.required],\r\n            precoMasculino: [0, Validators.required],\r\n            precoFeminino: [0, Validators.required],\r\n            site: ['', Validators.required],\r\n            mapa: ['', Validators.required],\r\n            dataInicial: ['', Validators.required],\r\n            dataFinal: ['', Validators.required],\r\n            horaInicial: ['', Validators.required],\r\n            horaFinal: ['', Validators.required]\r\n          });\r\n    }\r\n\r\n    \r\n\r\n       \r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/domain/validator/validacao-slides.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { Camera } from '@ionic-native/camera';\nimport { Calendar } from '@ionic-native/calendar';\nimport { Storage } from '@ionic/storage';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { LoginPage } from '../pages/login/login';\n\nimport { MapaService } from '../domain/mapa/mapa-service';\nimport { CameraService } from '../domain/camera/camera-service';\nimport { AgendamentoDao } from '../domain/agendamento/agendamento-dao';\nimport { AgendamentoService } from '../domain/agendamento/agendamento-service';\nimport { CalendarService } from '../domain/calendario/calendar-service';\nimport { ValidacaoSlides } from '../domain/validator/validacao-slides';\n\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\n\n\nfunction provideStorage(){\n  return new Storage({\n    name: 'agendamentos',\n    storeName: 'agendamento'\n  });\n}\n\n@NgModule({\n  \n  declarations: [\n    MyApp,\n    HomePage,\n    LoginPage\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    ReactiveFormsModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    LoginPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Camera,\n    Calendar,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    {provide: Storage, useFactory: provideStorage},\n    MapaService,\n    CameraService,\n    AgendamentoService,\n    CalendarService,\n    ValidacaoSlides,\n    AgendamentoDao\n  ]\n  \n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { LoginPage } from '../pages/login/login';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = LoginPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { MapaService } from \"../mapa/mapa-service\";\r\n\r\n// ../../assets/imgs/logo.png\r\nexport class Agendamento{\r\n\r\n    public categorias: string[];\r\n\r\n    constructor(public localidade:string = '',\r\n                public lat:number = 0,\r\n                public lng:number = 0,\r\n                public url = '',\r\n                public evento: string = '',\r\n                public categoria: string = '',\r\n                public descricao: string = '',\r\n                public dataInicial: string = '',\r\n                public dataFinal: string = '',\r\n                public horaInicial: string = '',\r\n                public horaFinal: string = '',\r\n                public ingressoMasculino: number = 0,\r\n                public ingressoFeminino: number = 0,\r\n                public site: string = '',\r\n                ){}\r\n\r\n    ehFoto(){\r\n        return this.url ? true : false;\r\n    }\r\n\r\n    addMapa(mapa: MapaService){\r\n        this.localidade = mapa.localidade;\r\n        this.lat = mapa.latitude;\r\n        this.lng = mapa.longitude;\r\n    }\r\n    \r\n    pegaKey(){\r\n        return this.evento.replace(/( )+/g,'') + \"!@\" + this.categoria.replace(/( )+/g,'');\r\n    }\r\n\r\n    // Teste\r\n    realizaAgendamento(){\r\n\r\n        \r\n        alert(    \r\n                this.evento + \", \" + \"\\n\" +\r\n                this.categoria + \", \" + \"\\n\" +\r\n                this.descricao + \", \" + \"\\n\" +\r\n                this.dataInicial + \", \" + \"\\n\" +\r\n                this.dataFinal + \", \" + \"\\n\" +\r\n                this.horaInicial + \", \" + \"\\n\" +\r\n                this.horaFinal + \", \" + \"\\n\" +\r\n                this.ingressoMasculino + \", \" + \"\\n\" +\r\n                this.ingressoFeminino + \", \" + \"\\n\" +\r\n                this.site + \"\\n\" +\r\n                \"Localidade: \" + this.localidade + \"\\n\" +\r\n                \"Lat: \" + this.lat + \"\\n\" +\r\n                \"Long: \" + this.lng + \"\\n\" +  \r\n                \"Imagem: \" + this.url);  \r\n        }           \r\n                 \r\n                \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/domain/agendamento/agendamento.ts"],"sourceRoot":""}